
node 
{ 
   	stage('Clone Repository') 
	{        
		sh 'git branch -D main'
		withCredentials([usernamePassword(credentialsId: 'GIT_LAB_FULL', usernameVariable: 'USERNAME', passwordVariable: 'API_TOKEN')])
		{
			//git branch:'main' url: "https://$API_TOKEN@gitlab.com/sagecarey/test.git"
			//sh 'git branch url:\'https://$API_TOKEN@gitlab.com/sagecarey/mbsa.git\''
			//https://gitlab.com/ralphccarey/mbsa.git
			def cloneCommand = 'git clone https://user:$API_TOKEN@gitlab.com/ralphccarey/mbsa.git'			
			println("Clone Command = " + cloneCommand)
			sh cloneCommand
		}
   	}
   	stage('Pre-Build') 
	{        
		echo 'Entering Pre-Build'
    	}
	stage('Check-in')
	{
        	echo 'Entering Check-in'	
    	}
}
